<style>
    td:hover {
        background-color: chartreuse;
    }
    td {
        height:25px;width:20px;text-align:center;cursor:cell;
    }
</style>
<table border="1">
    <tbody>
<script>
          marks = ["X","O"]; 
      mark_index = 0; 
    tictactoe = [["-","-","-"],["-","-","-"],["-","-","-"]];
    const re = /^(?:(?:...){0,2}([OX])\1\1|.{0,2}([OX])..\2..\2|([OX])...\3...\3|..([OX]).\4.\4)/g
for(row in tictactoe) {
    document.write(`<tr>`);
    for(col in tictactoe[row]) {
        document.write(`<td " 
            onclick="
            if(this.innerHTML == '-') { 
                tictactoe[${row}][${col}]=marks[mark_index%2];
                this.innerHTML=tictactoe[${row}][${col}];
                str = tictactoe.map(e => e.join('')).join('')
                win = re.exec(str);
               if(win != null) {win.shift(); win_div.innerHTML = (win.join('') + ' wins in ' + (mark_index + 1) + ' moves!');}
               else if((mark_index + 1) == 9) {win_div.innerHTML = 'Cats Game!';}
               else {win_div.innerHTML = marks[(++mark_index)%2] + ' goes'};
            }
                "
            >${tictactoe[row][col]}</td>`);
    }
    document.write(`</tr>`);
}
</script>
  </tbody></table>
  <div id="win_div">X goes first</div>